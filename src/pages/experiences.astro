---
import MainLayout from '../layouts/main.astro';
import { getCollection } from 'astro:content';

// Get all experiences from Content Collections
const experiencesCollection = await getCollection('experiences');
const experiences = experiencesCollection[0]?.data || [];

const formatPeriod = (period: string) => {
	return period;
};
---

<MainLayout 
	title="Experiences - Lit Phansiri" 
	description="Professional experiences showcasing Lit Phansiri's journey from Active Duty U.S. Marine to Full Stack Data Scientist"
>
	<!-- Hero Section -->
	<section class="container mx-auto px-4 py-16">
		<div class="max-w-4xl mx-auto text-center">
			<h1 class="text-4xl md:text-5xl font-bold mb-6">Professional Experiences</h1>
			<p class="text-xl text-muted-foreground mb-8">
				My journey from Active Duty U.S. Marine to Full Stack Data Scientist, 
				combining military discipline with cutting-edge technical expertise.
			</p>
		</div>
	</section>

	<!-- Experiences Timeline -->
	<section class="container mx-auto px-4 pb-16">
		<div class="max-w-4xl mx-auto">
			<div class="space-y-12">
				{experiences.map((exp, index) => (
					<div class="relative">
						<!-- Timeline line -->
						{index < experiences.length - 1 && (
							<div class="absolute left-8 top-16 w-0.5 h-full bg-border"></div>
						)}
						
						<div class="flex gap-8">
							<!-- Timeline dot -->
							<div class="flex-shrink-0 w-16 h-16 bg-primary rounded-full flex items-center justify-center relative z-10">
								<span class="text-primary-foreground font-bold text-lg">{index + 1}</span>
							</div>
							
							<!-- Experience content -->
							<div class="flex-1 bg-card border rounded-lg p-6 hover:shadow-lg transition-shadow">
								<div class="flex flex-col md:flex-row md:items-center md:justify-between mb-4">
									<div>
										<h3 class="text-xl font-semibold text-primary mb-1">{exp.title}</h3>
										<p class="text-lg font-medium">{exp.company}</p>
									</div>
									<div class="text-right mt-2 md:mt-0">
										<p class="text-sm text-muted-foreground">{exp.location}</p>
										<p class="text-sm font-medium">{exp.period}</p>
									</div>
								</div>
								
								<p class="text-muted-foreground mb-4">{exp.description}</p>
								
								<div class="mb-4">
									<h4 class="font-semibold mb-2">Key Achievements:</h4>
									<ul class="space-y-1">
										{exp.achievements.map((achievement) => (
											<li class="flex items-start gap-2 text-sm">
												<span class="text-primary mt-1">‚Ä¢</span>
												<span>{achievement}</span>
											</li>
										))}
									</ul>
								</div>
								
								<div>
									<h4 class="font-semibold mb-2">Technologies & Skills:</h4>
									<div class="flex flex-wrap gap-2">
										{exp.technologies.map((tech) => (
											<span class="px-3 py-1 bg-secondary text-secondary-foreground rounded-full text-sm">
												{tech}
											</span>
										))}
									</div>
								</div>
							</div>
						</div>
					</div>
				))}
			</div>
		</div>
	</section>

	<!-- Skills Summary -->
	<section class="container mx-auto px-4 pb-16">
		<div class="max-w-4xl mx-auto">
			<h2 class="text-3xl font-bold text-center mb-12">Core Competencies</h2>
			<div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
				<div class="text-center">
					<div class="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4">
						<span class="text-2xl">üß†</span>
					</div>
					<h3 class="text-xl font-semibold mb-2">Data Science</h3>
					<p class="text-muted-foreground">
						Advanced statistical analysis, machine learning, and predictive modeling expertise.
					</p>
				</div>
				<div class="text-center">
					<div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
						<span class="text-2xl">ü§ñ</span>
					</div>
					<h3 class="text-xl font-semibold mb-2">Generative AI</h3>
					<p class="text-muted-foreground">
						Specialized in building production-ready AI applications and LLM integration.
					</p>
				</div>
				<div class="text-center">
					<div class="w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4">
						<span class="text-2xl">üéñÔ∏è</span>
					</div>
					<h3 class="text-xl font-semibold mb-2">Leadership</h3>
					<p class="text-muted-foreground">
						Military-trained leadership and project management in high-pressure environments.
					</p>
				</div>
			</div>
		</div>
	</section>

	<!-- CTA Section -->
	<section class="container mx-auto px-4 pb-16">
		<div class="max-w-2xl mx-auto text-center bg-muted/50 rounded-lg p-8">
			<h2 class="text-2xl font-bold mb-4">Ready to Collaborate?</h2>
			<p class="text-muted-foreground mb-6">
				I bring a unique combination of military discipline, academic excellence, 
				and technical expertise to every project. Let's discuss how we can work together.
			</p>
			<div class="flex flex-col sm:flex-row gap-4 justify-center">
				<a href="/contact" class="inline-flex items-center justify-center px-6 py-3 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors">
					Get In Touch
				</a>
				<a href="/projects" class="inline-flex items-center justify-center px-6 py-3 border border-border rounded-md hover:bg-accent transition-colors">
					View My Work
				</a>
			</div>
		</div>
	</section>
</MainLayout>
